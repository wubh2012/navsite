<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>水果导航</title>

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- PWA Meta Tags -->
  <meta name="application-name" content="水果导航">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="水果导航">
  <meta name="description" content="基于飞书多维表格的个人网站导航工具，支持分类管理、搜索功能、暗黑模式等特性">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="msapplication-config" content="browserconfig.xml">
  <meta name="msapplication-TileColor" content="#ff0066">
  <meta name="theme-color" content="#ff0066">

  <!-- Icons for various devices -->
  <link rel="icon" type="image/x-icon" href="img/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="img/icons/icon-72x72.png">
  <link rel="icon" type="image/png" sizes="16x16" href="img/icons/icon-72x72.png">
  <link rel="apple-touch-icon" sizes="180x180" href="img/icons/icon-192x192.png">
  <link rel="apple-touch-icon" sizes="152x152" href="img/icons/icon-152x152.png">
  <link rel="apple-touch-icon" sizes="144x144" href="img/icons/icon-144x144.png">
  <link rel="apple-touch-icon" sizes="120x120" href="img/icons/icon-128x128.png">
  <link rel="apple-touch-icon" sizes="114x114" href="img/icons/icon-128x128.png">
  <link rel="apple-touch-icon" sizes="76x76" href="img/icons/icon-72x72.png">
  <link rel="apple-touch-icon" sizes="72x72" href="img/icons/icon-72x72.png">
  <link rel="apple-touch-icon" sizes="60x60" href="img/icons/icon-72x72.png">
  <link rel="apple-touch-icon" sizes="57x57" href="img/icons/icon-72x72.png">

  <!-- Microsoft Tiles -->
  <meta name="msapplication-TileImage" content="img/icons/icon-144x144.png">
  <meta name="msapplication-square70x70logo" content="img/icons/icon-72x72.png">
  <meta name="msapplication-square150x150logo" content="img/icons/icon-152x152.png">
  <meta name="msapplication-wide310x150logo" content="img/icons/icon-384x384.png">
  <meta name="msapplication-square310x310logo" content="img/icons/icon-384x384.png">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;700;900&display=swap"
    rel="stylesheet">
</head>

<body>
  <!-- 粒子背景容器 -->
  <div class="particles"></div>
  <!-- 移动端顶部导航栏 -->
  <header class="mobile-header">
    <div class="mobile-nav">
      <button class="hamburger-btn" id="hamburger-btn" aria-label="打开菜单">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <div class="mobile-logo">
        <img src="./img/avatar.svg" alt="logo" srcset="">
        <!-- <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23FF0066;stop-opacity:1' %3E%3Canimate attributeName='stop-color' values='%23FF0066;%2300F6FF;%23FF0066' dur='4s' repeatCount='indefinite'/%3E%3C/stop%3E%3Cstop offset='100%25' style='stop-color:%2300F6FF;stop-opacity:1' %3E%3Canimate attributeName='stop-color' values='%2300F6FF;%23FF0066;%2300F6FF' dur='4s' repeatCount='indefinite'/%3E%3C/stop%3E%3C/linearGradient%3E%3CradialGradient id='glow' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' style='stop-color:%23FFFFFF;stop-opacity:0.8' /%3E%3Cstop offset='70%25' style='stop-color:%23FF0066;stop-opacity:0.4' /%3E%3Cstop offset='100%25' style='stop-color:%2300F6FF;stop-opacity:0.2' /%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='48' fill='url(%23glow)' /%3E%3Ccircle cx='50' cy='50' r='45' fill='url(%23grad)' %3E%3Canimate attributeName='r' values='45;47;45' dur='3s' repeatCount='indefinite'/%3E%3C/circle%3E%3Ccircle cx='50' cy='50' r='44' fill='none' stroke='%23FFFFFF' stroke-width='1' opacity='0.6'/%3E%3Ctext x='50' y='60' text-anchor='middle' fill='white' font-size='40' font-weight='bold' filter='url(%23text-glow)'%3E🍓%3C/text%3E%3C/svg%3E" alt="头像"> -->
        <span>水果导航</span>
      </div>
      <div class="mobile-actions">
        <button id="theme-toggle-btn" class="theme-toggle-button" title="切换暗黑模式">
          <i class="bi bi-moon"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- 右上角模式切换按钮（桌面端显示） -->
  <button id="desktop-theme-toggle-btn" class="theme-toggle-button desktop-only" title="切换暗黑模式">
    <i class="bi bi-moon"></i>
  </button>

  <!-- 移动端遮罩层 -->
  <div class="mobile-overlay" id="mobile-overlay"></div>

  <div class="container">
    <!-- 左侧侧边栏 -->
    <aside class="sidebar" id="sidebar">
      <div class="user-avatar">
        <img src="./img/avatar.svg" alt="logo" srcset="">
      </div>
      <nav class="nav-menu">
        <ul id="category-menu">
          <li class="active" data-category="all"><i class="bi bi-house-door"></i> 全部</li>
          <!-- 动态生成的分类菜单项 -->
        </ul>


        <!-- 皮肤选择器 -->
        <div class="skin-selector" id="skin-selector">
          <div class="current-skin">
            <div class="current-skin-preview">
              <i class="bi bi-stars current-skin-icon"></i>
            </div>
            <span class="current-skin-name">霓虹风格</span>
            <button class="skin-expand-btn">
              <i class="bi bi-chevron-down"></i>
            </button>
          </div>

          <div class="skin-options">
            <div class="skin-grid">
              <div class="skin-option active" data-skin="neon">
                <div class="skin-colors">
                  <div class="color-dot primary"></div>
                  <div class="color-dot secondary"></div>
                  <div class="color-dot accent"></div>
                </div>
                <span class="skin-label">霓虹风格</span>
              </div>

              <div class="skin-option" data-skin="ocean">
                <div class="skin-colors">
                  <div class="color-dot primary"></div>
                  <div class="color-dot secondary"></div>
                  <div class="color-dot accent"></div>
                </div>
                <span class="skin-label">海洋蓝调</span>
              </div>

              <div class="skin-option" data-skin="forest">
                <div class="skin-colors">
                  <div class="color-dot primary"></div>
                  <div class="color-dot secondary"></div>
                  <div class="color-dot accent"></div>
                </div>
                <span class="skin-label">森林绿意</span>
              </div>

              <div class="skin-option" data-skin="sunset">
                <div class="skin-colors">
                  <div class="color-dot primary"></div>
                  <div class="color-dot secondary"></div>
                  <div class="color-dot accent"></div>
                </div>
                <span class="skin-label">日落橙黄</span>
              </div>

              <div class="skin-option" data-skin="purple">
                <div class="skin-colors">
                  <div class="color-dot primary"></div>
                  <div class="color-dot secondary"></div>
                  <div class="color-dot accent"></div>
                </div>
                <span class="skin-label">优雅紫色</span>
              </div>

              <div class="skin-option" data-skin="classic">
                <div class="skin-colors">
                  <div class="color-dot primary"></div>
                  <div class="color-dot secondary"></div>
                  <div class="color-dot accent"></div>
                </div>
                <span class="skin-label">经典灰调</span>
              </div>
            </div>

            <div class="skin-mode-toggle">
              <i class="bi bi-moon"></i>
              <span>暗黑模式</span>
            </div>
          </div>
        </div>
      </nav>
    </aside>

    <!-- 主内容区 -->
    <main class="main-content">
      <!-- 顶部信息区 -->
      <header class="top-info">
        <div class="time-info">
          <div class="current-time" id="current-time">--:--:--</div>
          <div class="date-info" id="date-info">加载中...</div>
        </div>
      </header>

      <!-- 添加链接按钮 -->
      <button id="add-link-btn" class="add-link-btn">
        <i class="bi bi-plus"></i>
      </button>

      <!-- 工具图标列表 -->
      <div class="tools-container">
        <div id="tools-grid" class="tools-grid">
          <!-- 动态生成的工具图标 -->
        </div>
      </div>
    </main>
  </div>

  <!-- 添加链接模态框 -->
  <div id="add-link-modal" class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2>添加网站</h2>
        <button id="close-modal-btn" class="close-modal-btn" aria-label="关闭">
          <i class="bi bi-x"></i>
        </button>
      </div>

      <div class="modal-body">
        <form id="add-link-form">
          <div class="form-group">
            <label for="site-url">网站网址 *</label>
            <input type="url" id="site-url" name="site-url" value="https://" placeholder="请输入完整网址，包含http://或https://">
            <div class="error-message" id="url-error"></div>
          </div>
          <div class="form-group">
            <label for="site-name">网站名称 *</label>
            <input type="text" id="site-name" name="site-name" placeholder="请输入网站名称" maxlength="50">
            <div class="error-message" id="name-error"></div>
          </div>
          <div class="form-group">
            <label for="site-category">分类 *</label>
            <select id="site-category" name="site-category">
              <!-- 动态生成的分类选项 -->
            </select>
            <div id="custom-category-container" style="display: none; margin-top: 10px;">
              <input type="text" id="custom-category" name="custom-category" placeholder="请输入自定义分类名称" maxlength="20">
            </div>
            <div class="error-message" id="category-error"></div>
          </div>

          <div class="form-group">
            <label for="site-sort">排序 (可选)</label>
            <input type="number" id="site-sort" name="site-sort" placeholder="数字越小，排序越靠前" min="0" max="999" value="200">
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <button id="cancel-add-btn" class="cancel-btn">取消</button>
        <button id="save-link-btn" class="save-btn">保存</button>
      </div>
    </div>
  </div>

  <!-- 删除确认模态框 -->
  <div id="delete-link-modal" class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2>确认删除</h2>
        <button id="close-delete-modal-btn" class="close-modal-btn" aria-label="关闭">
          <i class="bi bi-x"></i>
        </button>
      </div>

      <div class="modal-body">
        <div class="delete-confirmation">
          <div class="delete-icon">
            <i class="bi bi-exclamation-triangle"></i>
          </div>
          <p>确定要删除网站 <span id="delete-site-name" class="site-name-highlight"></span> 吗？</p>
          <p class="delete-warning">此操作不可撤销。</p>
        </div>
      </div>

      <div class="modal-footer">
        <button id="cancel-delete-btn" class="cancel-btn">取消</button>
        <button id="confirm-delete-btn" class="delete-btn">确认删除</button>
      </div>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>

</html>