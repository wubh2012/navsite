# 导航网站项目

## 项目介绍

这是一个基于飞书多维表格数据的导航网站，通过调用飞书API获取表格数据，生成一个美观且功能丰富的导航页面。网站具有现代化的UI设计，支持多种设备访问，并提供个性化的用户体验。

## 功能特点

- 从飞书多维表格获取导航数据
- 按分类展示导航链接
- 响应式设计，完美适配桌面端和移动端
- 实时显示当前时间和日期
- 简洁美观的UI界面
- 暗黑模式支持，可自动跟随系统偏好或手动切换
- 本地存储用户偏好设置

## 待完善功能
- 添加CF 和 Vercel 部署配置
- 背景图片设置，随机切换
- 添加搜索功能

## 技术栈

- 前端：HTML, CSS, JavaScript
- 后端：Node.js, Express
- API：飞书开放平台API

## 项目结构

```
├── public/              # 静态资源目录
│   ├── css/            # CSS样式文件
│   ├── js/             # JavaScript文件
│   ├── img/            # 图片资源
│   └── index.html      # 主页面
├── .env                # 环境变量配置（不应提交到版本控制）
├── .env.example        # 环境变量示例
├── package.json        # 项目依赖配置
├── server.js           # 服务器入口文件
└── README.md           # 项目说明文档
```

## 安装与使用

### 前置条件

- Node.js 14.0 或更高版本
- 飞书开发者账号和已创建的自建应用
- 飞书多维表格（包含导航数据）

### 安装步骤

1. 克隆或下载项目代码

2. 安装依赖
   ```
   npm install
   ```

3. 配置环境变量
   - 复制 `.env.example` 为 `.env`
   - 填入你的飞书应用 ID、Secret 和多维表格信息

4. 启动服务
   ```
   npm start
   ```

5. 访问网站
   - 打开浏览器，访问 `http://localhost:3000`

## 飞书多维表格配置

多维表格需要包含以下字段：

- 站点名称/name：导航项的名称
- 网址/url：导航项的链接地址
- 分类/category：导航项的分类（如：Code、设计、产品等）
- 排序/sort：导航项在分类中的排序（数字越小越靠前）
- 图标/icon：导航项的图标（可选，支持Bootstrap图标类名或图片URL）

## 暗黑模式功能

本项目支持暗黑模式，具有以下特性：

- **自动检测系统偏好**：网站会自动检测用户的系统主题偏好并应用相应的主题
- **手动切换**：用户可以通过侧边栏的切换按钮手动切换亮色/暗黑模式
- **偏好记忆**：用户的主题选择会被保存在本地存储中，下次访问时自动应用
- **平滑过渡**：主题切换时具有平滑的过渡动画效果

## 开发说明

### 本地开发

```
npm run dev
```

使用 nodemon 启动服务，支持代码修改自动重启。

### 自定义样式

可以修改 `public/css/style.css` 文件来自定义网站样式。

### 暗黑模式开发

暗黑模式通过CSS变量实现，所有颜色相关的样式都使用变量定义。要自定义主题颜色，可以修改`:root`和`[data-theme="dark"]`中的CSS变量值。

## 许可证

MIT